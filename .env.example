# .env.example - BeadHub Environment Variables
# Copy to .env and customize for your environment
# See README.md for full documentation

# =============================================================================
# DATABASE (required)
# =============================================================================

# PostgreSQL connection URL (one of these is required)
BEADHUB_DATABASE_URL=postgresql://user:password@localhost:5432/beadhub
# DATABASE_URL=postgresql://user:password@localhost:5432/beadhub

# For docker-compose only
POSTGRES_PASSWORD=your-secure-password

# =============================================================================
# REDIS (optional - defaults to localhost)
# =============================================================================

BEADHUB_REDIS_URL=redis://localhost:6379/0
# REDIS_URL=redis://localhost:6379/0

# =============================================================================
# SERVER
# =============================================================================

BEADHUB_HOST=0.0.0.0
BEADHUB_PORT=8000

# Hot reload for development (default: false)
# BEADHUB_RELOAD=true

# =============================================================================
# LOGGING
# =============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR (default: INFO)
BEADHUB_LOG_LEVEL=INFO

# JSON format for structured logging (default: false in dev, true in production)
# BEADHUB_LOG_JSON=true

# =============================================================================
# AUTHENTICATION (optional - enables tenant isolation)
# =============================================================================

# When set, admin endpoints require X-API-Key header
# BEADHUB_API_KEY=aw_sk_your-secret-api-key

# HMAC secret for proxy deployments (Cloud wrapper signs internal headers with this).
# Not needed for standalone OSS deployments.
# BEADHUB_INTERNAL_AUTH_SECRET=your-internal-auth-secret

# =============================================================================
# PRESENCE & COORDINATION
# =============================================================================

# How long before a workspace is considered offline (default: 1800 = 30 min)
BEADHUB_PRESENCE_TTL_SECONDS=1800

# Rate limiting for /v1/init endpoint (default: 10 requests per 60 seconds)
# BEADHUB_INIT_RATE_LIMIT=10
# BEADHUB_INIT_RATE_WINDOW=60

# Human name shown in dashboard (default: admin)
# BEADHUB_DASHBOARD_HUMAN=admin

# =============================================================================
# CLIENT (bdh CLI) - used during bdh :init
# =============================================================================

# BeadHub server URL (default: http://localhost:8000)
BEADHUB_URL=http://localhost:8000

# Project slug (required if repo not registered)
BEADHUB_PROJECT=my-project

# Workspace alias - display name (default: auto-suggested based on role)
# BEADHUB_ALIAS=claude-code

# Human owner name (default: $USER)
# BEADHUB_HUMAN=YourName

# Workspace role (default: agent)
# BEADHUB_ROLE=agent

# =============================================================================
# TESTING ONLY (do not use in production)
# =============================================================================

# Override git remote origin (testing only)
# BEADHUB_REPO_ORIGIN=git@github.com:test/repo.git

# Skip repo validation (testing only)
# BEADHUB_SKIP_REPO_CHECK=1
